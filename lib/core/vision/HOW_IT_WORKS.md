# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Vision Framework –º–æ–¥—É–ª—å

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å                          ‚îÇ
‚îÇ              "–ù–∞–π—Ç–∏ —Ä–∞–∑–º—ã—Ç—ã–µ —Ñ–æ—Ç–æ"                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              VisionMediaScanner                          ‚îÇ
‚îÇ         –ü—Ä–æ–≤–µ—Ä—è–µ—Ç VisionConfig.enabled                   ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ Vision Framework   ‚îÇ ‚à•‚à•‚à•  ‚îÇ Classic Algorithm  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ (iOS Native)       ‚îÇ ‚à•‚à•‚à•  ‚îÇ (Dart/Compute)     ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ         –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ             –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤                      ‚îÇ
‚îÇ    (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            –í–æ–∑–≤—Ä–∞—Ç —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```dart
// main.dart
void main() {
  // Vision Framework –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ VisionConfig
}
```

### 2. –ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑

```dart
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Scan for blurry photos"
final photos = await PhotoManager.getAssetList();

// –í—ã–∑–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
final blurryPhotos = await VisionMediaScanner.findBlurryImages(photos);
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```dart
// VisionMediaScanner –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
if (!VisionConfig.enabled || !VisionConfig.photo.blurDetection) {
  // Fallback –Ω–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º
  return MediaScanner.findBlurryImages(files);
}
```

### 4. –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

#### –°—Ç—Ä–∞—Ç–µ–≥–∏—è A: Vision Primary
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Vision Analysis ‚îÇ (iOS Native)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚úì –ï—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?
         ‚îÇ
    –î–∞   ‚îÇ   –ù–µ—Ç
    ‚Üì    ‚îÇ    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Vision ‚îÇ  ‚îÇ Classic Fallback‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### –°—Ç—Ä–∞—Ç–µ–≥–∏—è B: Classic Primary
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Vision Analysis ‚îÇ ‚à•‚à• ‚îÇClassic Analysis ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                      ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 5. Vision Framework –∞–Ω–∞–ª–∏–∑ (iOS)

```
Flutter Layer (Dart)
    ‚îÇ
    ‚îÇ Platform Channel: analyzeBlur(imageData)
    ‚ñº
iOS Layer (Swift)
    ‚îÇ
    ‚îú‚îÄ‚ñ∫ VisionFrameworkHandler.analyzeBlur()
    ‚îÇ     ‚îÇ
    ‚îÇ     ‚îú‚îÄ‚ñ∫ UIImage from data
    ‚îÇ     ‚îú‚îÄ‚ñ∫ VNImageRequestHandler
    ‚îÇ     ‚îú‚îÄ‚ñ∫ Laplacian variance calculation
    ‚îÇ     ‚îî‚îÄ‚ñ∫ Blur score (0.0 - 1.0)
    ‚îÇ
    ‚óÑ‚îÄ‚îÄ‚îÄ Result { blurScore, quality }
    ‚îÇ
Flutter Layer (Dart)
    ‚îÇ
    ‚îî‚îÄ‚ñ∫ VisionAnalyzerResult
```

### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```dart
// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ confidence
final filtered = results.where((r) =>
  r.confidence >= VisionConfig.minimumConfidence
);

// –°–æ–∑–¥–∞–Ω–∏–µ MediaFile –æ–±—ä–µ–∫—Ç–æ–≤
final blurryFiles = filtered.map((r) =>
  files.firstWhere((f) => f.entity.id == r.assetId)
).toList();
```

### 7. –í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

```dart
// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
final stats = VisionMediaScanner.getDetectionStats(blurryFiles);
print('–ù–∞–π–¥–µ–Ω–æ ${blurryFiles.length} —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ');
print('Vision: ${stats['vision']}, Classic: ${stats['classic']}');

// UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
setState(() {
  _blurryPhotos = blurryFiles;
});
```

## üîÄ –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: Vision –≤–∫–ª—é—á–µ–Ω, –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```
User ‚Üí VisionMediaScanner
          ‚îú‚îÄ‚ñ∫ VisionConfig.enabled = true
          ‚îú‚îÄ‚ñ∫ VisionConfig.photo.blurDetection = true
          ‚îî‚îÄ‚ñ∫ Vision Framework –∞–Ω–∞–ª–∏–∑
                 ‚îú‚îÄ‚ñ∫ –ù–∞–π–¥–µ–Ω–æ 10 —Ñ–æ—Ç–æ (blur > 0.7)
                 ‚îî‚îÄ‚ñ∫ –í–æ–∑–≤—Ä–∞—Ç 10 —Ñ–æ—Ç–æ ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Vision –≤–∫–ª—é—á–µ–Ω, –ù–ï –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```
User ‚Üí VisionMediaScanner
          ‚îú‚îÄ‚ñ∫ VisionConfig.enabled = true
          ‚îî‚îÄ‚ñ∫ Vision Framework –∞–Ω–∞–ª–∏–∑
                 ‚îú‚îÄ‚ñ∫ –ù–∞–π–¥–µ–Ω–æ 0 —Ñ–æ—Ç–æ
                 ‚îî‚îÄ‚ñ∫ Fallback –Ω–∞ Classic
                        ‚îî‚îÄ‚ñ∫ –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Classic ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Vision –æ—Ç–∫–ª—é—á–µ–Ω

```
User ‚Üí VisionMediaScanner
          ‚îú‚îÄ‚ñ∫ VisionConfig.enabled = false
          ‚îî‚îÄ‚ñ∫ –°—Ä–∞–∑—É Classic Algorithm
                 ‚îî‚îÄ‚ñ∫ –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Classic ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: Vision –æ—à–∏–±–∫–∞

```
User ‚Üí VisionMediaScanner
          ‚îú‚îÄ‚ñ∫ VisionConfig.enabled = true
          ‚îî‚îÄ‚ñ∫ Vision Framework –∞–Ω–∞–ª–∏–∑
                 ‚îú‚îÄ‚ñ∫ Exception! ‚ùå
                 ‚îî‚îÄ‚ñ∫ Catch exception
                        ‚îî‚îÄ‚ñ∫ Fallback –Ω–∞ Classic
                               ‚îî‚îÄ‚ñ∫ –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Classic ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

```
User ‚Üí VisionMediaScanner
          ‚îú‚îÄ‚ñ∫ VisionConfig.visionAsPrimary = false
          ‚îî‚îÄ‚ñ∫ Parallel execution
                 ‚îú‚îÄ‚ñ∫ Vision: 8 —Ñ–æ—Ç–æ
                 ‚îú‚îÄ‚ñ∫ Classic: 12 —Ñ–æ—Ç–æ
                 ‚îî‚îÄ‚ñ∫ Merge unique
                        ‚îî‚îÄ‚ñ∫ –í–æ–∑–≤—Ä–∞—Ç 15 —Ñ–æ—Ç–æ (8+7 unique) ‚úÖ
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏

### –í–ª–∏—è–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü–æ–≤–µ–¥–µ–Ω–∏–µ |
|-----------|----------|-----------|
| `enabled` | `false` | –í–µ—Å—å –º–æ–¥—É–ª—å –æ—Ç–∫–ª—é—á–µ–Ω ‚Üí Classic —Ç–æ–ª—å–∫–æ |
| `enabled` | `true` + `blurDetection = false` | Vision –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ blur –æ—Ç–∫–ª—é—á–µ–Ω ‚Üí Classic |
| `enabled` | `true` + `blurDetection = true` | Vision –∞–∫—Ç–∏–≤–µ–Ω –¥–ª—è blur |
| `visionAsPrimary` | `true` | Vision ‚Üí Fallback Classic |
| `visionAsPrimary` | `false` | Parallel ‚Üí Merge |
| `minimumConfidence` | `0.7` | –¢–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚â• 70% confidence |
| `minimumConfidence` | `0.5` | –ë–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π –æ—Ö–≤–∞—Ç |

## üéõÔ∏è –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é (Similar Photos)

```
1. –°–æ–∑–¥–∞—Ç—å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
   ‚îú‚îÄ‚ñ∫ lib/core/vision/analyzers/similar_photos_analyzer.dart
   ‚îî‚îÄ‚ñ∫ extends VisionAnalyzer

2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   ‚îú‚îÄ‚ñ∫ VisionPhotoFeatures.similarPhotos = true
   ‚îî‚îÄ‚ñ∫ minimumConfidence –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

3. iOS —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
   ‚îú‚îÄ‚ñ∫ VisionFrameworkHandler.findSimilarPhotos()
   ‚îî‚îÄ‚ñ∫ VNGenerateImageFeaturePrintRequest

4. Platform channel
   ‚îú‚îÄ‚ñ∫ VisionPlatformChannel.analyzeSimilarity()
   ‚îî‚îÄ‚ñ∫ –ú–µ—Ç–æ–¥ –≤ AppDelegate.swift

5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   ‚îú‚îÄ‚ñ∫ VisionMediaScanner.findSimilarPhotos()
   ‚îî‚îÄ‚ñ∫ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å Classic
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞

–í–∫–ª—é—á–∏—Ç–µ `VisionConfig.enableVisionLogging = true` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:

```
[BlurDetection] –ù–∞—á–∞–ª–æ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ 50 —Ñ–∞–π–ª–æ–≤
[BlurDetection] –û–±—Ä–∞–±–æ—Ç–∫–∞ batch 1/5
[VisionPlatformChannel] –í—ã–∑–æ–≤ analyzeBlur –¥–ª—è IMG_1234.jpg
[VisionFrameworkHandler] Blur score: 0.82, quality: blurry
[BlurDetection] –ù–∞–π–¥–µ–Ω–æ —Ä–∞–∑–º—ã—Ç–æ–µ —Ñ–æ—Ç–æ: IMG_1234.jpg
[BlurDetection] –ó–∞–≤–µ—Ä—à–µ–Ω –∞–Ω–∞–ª–∏–∑. –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 50 —Ñ–∞–π–ª–æ–≤
[VisionMediaScanner] Vision Framework –Ω–∞—à–µ–ª 12 —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ
[VisionMediaScanner] Classic Algorithm –Ω–∞—à–µ–ª 10 —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ
[VisionMediaScanner] –í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ 15 —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–æ)
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```
100 —Ñ–æ—Ç–æ
‚îú‚îÄ‚ñ∫ Classic: ~2-3 —Å–µ–∫
‚îú‚îÄ‚ñ∫ Vision: ~4-6 —Å–µ–∫
‚îî‚îÄ‚ñ∫ Hybrid (parallel): ~5-7 —Å–µ–∫

1000 —Ñ–æ—Ç–æ
‚îú‚îÄ‚ñ∫ Classic: ~15-20 —Å–µ–∫
‚îú‚îÄ‚ñ∫ Vision: ~30-40 —Å–µ–∫
‚îî‚îÄ‚ñ∫ Hybrid (parallel): ~35-45 —Å–µ–∫
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è >500 —Ñ–æ—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `visionAsPrimary = true` –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
